% MaTeX LaTeX package version 1.0
% by Martin Azpillaga







%					*** Header ***


% Package declaration

\NeedsTeXFormat{LaTeX2e}[1994/12/01]
\ProvidesPackage{matex} [2014/02/11 version 1.0 MaTeX standard library for LaTeX]



% Required packages

\RequirePackage{amsmath,amssymb}
\RequirePackage[tmargin=20mm,bmargin=20mm,lmargin=20mm,rmargin=20mm]{geometry}
\RequirePackage{fancyhdr}
\RequirePackage{xparse}
\RequirePackage{MnSymbol}
\RequirePackage{hyperref}







%					*** Style ***


% Page Layout 

\pagestyle{fancy}

\fancyhead[RO,LE]{\thepage}
\fancyhead[RE]{\arabic{unitCounter} \unitName }
\fancyhead[LO]{\Roman{blockCounter} \blockName }

\fancyfoot[C]{\thepage}



% Global environment

\setlength{\parindent}{0cm} 	% no paragraph indentation

\endlinechar=-1\relax 			% no new paragraph with 2 line breaks



% Local environments

\newcounter{indentation}
\newcounter{tabSpace}


\setcounter{indentation}{0}
\setcounter{tabSpace}	{15}


\DeclareDocumentCommand{\tabtext}{ m >{\SplitList{.}} m }
{
	#1:

	\addtocounter{indentation}{ \value{tabSpace} }
	
	\ProcessList{ #2 }{ \dotEntry }
	
	\addtocounter{indentation}{ -\value{tabSpace} }
	\\
}


\DeclareDocumentCommand{\tabmath}{ m >{\SplitList{.}} m }
{
	#1:
	
	\addtocounter{indentation}{ \value{tabSpace} }
	
	\ProcessList{ #2 }{ \noDotEntry }
	
	\addtocounter{indentation}{ -\value{tabSpace} }
}

\DeclareDocumentCommand{\multiple}{O{.}O{.} >{\SplitList{.}} m}
{
	\left #1

	\begin{array}{l}
	
		\ProcessList{ #3 }{\arrayEntry}
	
	\end{array}
	
	\right #2
}


\newenvironment{noBreak}
  {\par\nobreak\vfil\penalty0\vfilneg
   \vtop\bgroup}
  {\par\xdef\tpd{\the\prevdepth}\egroup
   \prevdepth=\tpd}
\newcommand*\cleartoleftpage{%
  \clearpage
  \ifodd\value{page}\hbox{}\newpage\fi
}



% Environment auxiliary entries

\newcommand{\arrayEntry}[1]
{
	#1 \\
}


\newcommand{\dotEntry}[1]
{
	\\
	\hspace*{\value{tabSpace}pt}
	
	\begin{math}
		\cdot \; #1
	\end{math}
}


\newcommand{\noDotEntry}[1]
{
	\\
	\hspace*{\value{tabSpace}pt}
	
	\begin{math}
		#1
	\end{math}
}



% Calligraphy

\newcommand  	{\A}{\mathbb{A}}
\newcommand  	{\B}{\mathbb{B}}
\newcommand  	{\C}{\mathbb{C}}
\newcommand  	{\D}{\mathbb{D}}
\newcommand  	{\E}{\mathbb{E}}
\newcommand  	{\F}{\mathbb{F}}
\newcommand  	{\G}{\mathbb{G}}
\renewcommand	{\H}{\mathbb{H}}
\newcommand  	{\I}{\mathbb{I}}
\newcommand  	{\J}{\mathbb{J}}
\newcommand  	{\K}{\mathbb{K}}
\renewcommand	{\L}{\mathbb{L}}
\newcommand  	{\M}{\mathbb{M}}
\newcommand  	{\N}{\mathbb{N}}
\renewcommand	{\O}{\mathbb{O}}
\renewcommand	{\P}{\mathbb{P}}
\newcommand  	{\Q}{\mathbb{Q}}
\newcommand  	{\R}{\mathbb{R}}
\renewcommand	{\S}{\mathbb{S}}
\newcommand  	{\T}{\mathbb{T}}
\newcommand  	{\U}{\mathbb{U}}
\newcommand  	{\V}{\mathbb{V}}
\newcommand  	{\W}{\mathbb{W}}
\newcommand  	{\X}{\mathbb{X}}
\newcommand  	{\Y}{\mathbb{Y}}
\newcommand  	{\Z}{\mathbb{Z}}

\newcommand	{\Ac}{\mathcal{A}}
\newcommand	{\Bc}{\mathcal{B}}
\newcommand	{\Cc}{\mathcal{C}}
\newcommand	{\Dc}{\mathcal{D}}
\newcommand	{\Ec}{\mathcal{E}}
\newcommand	{\Fc}{\mathcal{F}}
\newcommand	{\Gc}{\mathcal{G}}
\newcommand	{\Hc}{\mathcal{H}}
\newcommand	{\Ic}{\mathcal{I}}
\newcommand	{\Jc}{\mathcal{J}}
\newcommand	{\Kc}{\mathcal{K}}
\newcommand	{\Lc}{\mathcal{L}}
\newcommand	{\Mc}{\mathcal{M}}
\newcommand	{\Nc}{\mathcal{N}}
\newcommand	{\Oc}{\mathcal{O}}
\newcommand	{\Pc}{\mathcal{P}}
\newcommand	{\Qc}{\mathcal{Q}}
\newcommand	{\Rc}{\mathcal{R}}
\newcommand	{\Sc}{\mathcal{S}}
\newcommand	{\Tc}{\mathcal{T}}
\newcommand	{\Uc}{\mathcal{U}}
\newcommand	{\Vc}{\mathcal{V}}
\newcommand	{\Wc}{\mathcal{W}}
\newcommand	{\Xc}{\mathcal{X}}
\newcommand	{\Yc}{\mathcal{Y}}
\newcommand	{\Zc}{\mathcal{Z}}

\renewcommand{\epsilon}{\varepsilon}







%					*** Structure ***


% Title page and table of contents

\newcommand{\titlePage}[2]
{
	\title{$#1$}
	\author{$#2$}
	\maketitle
}


\newcommand{\contents}
{
	\tableofcontents
	\cleardoublepage
}



% Low level structure

\newcounter{unitCounter}
\newcounter{blockCounter}[unitCounter]


\newcommand{\unitName}{unit name}
\newcommand{\blockName}{block name}


\newcommand{\block}[1]
{
	\addtocounter{blockCounter}	{1}
	\setcounter	 {unitCounter}	{0}

	\renewcommand{\blockName}{ $#1$ }
	\addcontentsline{toc}{part}{ \Roman{blockCounter} $#1$ }

	\cleardoublepage{}
	\vspace*{\fill}
	\begin{center}
	{
		\bf \Huge{ Block \Roman{blockCounter} } 
	}
	\end{center}
	\vspace*{1cm}
	\begin{center}
	{
		\bf \Huge{ $#1$ } 
	}
	\end{center}
	\vspace*{\fill}
}


\newcommand{\unit}[1]
{
	\addtocounter{unitCounter}{1}

	\renewcommand{\unitName}{ $#1$ }
	\addcontentsline{toc}{chapter}{ \arabic{unitcounter} $#1$ }
	
	\cleartoleftpage{}
	\begin{center}
	{
		\fbox{{ \bf \arabic{unitCounter}. $#1$ }}
	}
	\end{center}
}



% High level structures

\newcommand{\definition}[2]
{
	\addcontentsline{toc}{section}{ $#1$ }

	\begin{noBreak}

		{\bf $#1$} \\
		#2
	
	\end{noBreak}
}


\newcommand{\proposition}[2]
{
	\addcontentsline{toc}{section}{ $#1$ }

	{\bf $#1$} \\
	#2

	\newpage
}


\newcommand{\introduction}[1]
{ 
	$#1$

	\cleardoublepage
}




\endinput