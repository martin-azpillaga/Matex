% MaTeX LaTeX package
%
% LPPL LaTeX Public Project License
%  
\NeedsTeXFormat{LaTeX2e}[1994/12/01]
\ProvidesPackage{matex} [2013/11/30 v0.01 LaTeX package for my own ]

\RequirePackage{amsfonts}
\RequirePackage{amssymb}
\RequirePackage{amsmath}
\RequirePackage{titlesec}
\RequirePackage{verbatim}
\RequirePackage{MnSymbol}
\RequirePackage[utf8]{inputenc}
\RequirePackage[tmargin=20mm,bmargin=20mm,lmargin=25mm,rmargin=25mm]{geometry} 
\RequirePackage{fancyhdr}
\RequirePackage{xparse}
\RequirePackage{hyperref}
\RequirePackage{tikz}

%---------------- Page Style ---------------------

\titleformat{\part		}[display]	{\Huge\bfseries\filcenter}	{Part \thepart }		{50pt}{\huge\filcenter\givenText}
\titleformat{\chapter	}[display]	{\large\filcenter}			{Chapter \thechapter. } {30pt}{\large\filcenter\givenText}
\titleformat{\section	}[frame]	{}							{Section \thesection}	{15pt}{\bfseries\filcenter\givenText}
\titleformat{\subsection}[hang]		{}							{}						{10pt}{\normalfont\bfseries\givenText}

\newcommand{\givenText}[1]{ $#1$ }

\newcommand{\titlePage}[2]{
\title{$#1$}
\author{$#2$}
\maketitle
\tableofcontents
\newpage
}




\pagestyle{fancy}
\renewcommand{\chaptermark}[1]{ \markboth{$#1$}{} }
\renewcommand{\sectionmark}[1]{ \markright{$#1$}{} }
\fancyhead[RO,LE]{\thepage}
\fancyhead[RE]{\rightmark}
\fancyhead[LO]{\leftmark}
\fancyfoot[C]{\thepage}

%---------------- Hacks -------------------------



\setlength{\parindent}{0cm} % disable paragraph indentation
\endlinechar=-1\relax % disable new paragraph with 2 line breaks


%---------------------------------------------------

%---------------- Custom sections ------------------

\renewcommand{\part}[1]{
\addcontentsline{toc}{part}{ $#1$ }
\bfseries{\huge{ $#1$ } }
\newpage
}

\newcommand{\unit}[1]{
\addcontentsline{toc}{chapter}{ $#1$ }
$#1$\\
}

\newcommand{\definition}[1]{
\addcontentsline{toc}{section}{ $#1$ }
$#1$\\
}

\newcommand{\proposition}[1]{
\addcontentsline{toc}{section}{ $#1$ }
$#1$\\
}

%------------------ Custom Environments -------------

\newcommand{\arrayEntry}[1]{#1 \\}
\newcommand{\listEntry}[1]{ \item \begin{math} #1 \end{math}}

\NewDocumentCommand{\multiple}{O{.}O{.} >{\SplitList{.}} m}
{\left #1 \begin{array}{l}

\ProcessList{ #3 }{\arrayEntry} 

\end{array} \right #2 }

\NewDocumentCommand{\subtab}{O{$\cdot$} O{30pt} m >{\SplitList{.}} m}
{#3: \begin{list}{#1}{\setlength{\leftmargin}{#2}}

\ProcessList{ #4 }{\listEntry} 

\end{list}}




%------------------ Page Organizers -------------------


\newcommand{\introduction}[1]{ \setlength{\baselineskip}{18pt} \begin{math} #1 \end{math} \cleardoublepage  }

\newcommand{\tab}[1]{\hspace{.1\textwidth}\rlap{\begin{math}#1\end{math}}}

\newcommand{\letbe}[1]{\subtab{Let}{ #1 }}

\newcommand{\then}[3]{\subtab{Then, $#1$ is$#2$ if}{ #3 }}

\newcommand{\denote}[1]{\subtab{ We denote}{ #1 }}

\newcommand{\holds}[1]{\subtab[$\circ$]{Then, holds}{#1}}

\newcommand{\demonstration}[1]{\subtab[]{Demonstration}{#1}}

\newcommand{\call}[2]{\subtab[]{ We call$#1$ to}{#2}}

\reversemarginpar
\newcommand{\key}[1]{\fbox{#1}}
% -----------------------------------------------------









%--------------- Abbreviations --------------------

\newcommand{\N}{\mathbb{N}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\R}{\mathbb{R}}
\newcommand{\C}{\mathbb{C}}

\newcommand{\Pc}{\mathcal{P}}

\newcommand{\phin}{\varphi}
\newcommand{\eps}{\varepsilon}


%------------------------------------------------------


%-------------- Logic -------------------------

\newcommand{\card}[1]{ \# \; #1 }
\newcommand{\logicand}	{\; \wedge \;}
\newcommand{\logicor} 	{\; \vee \;}

\newcommand{\suchthat} 	{\; \text{ \textquotestraightdblbase } \;} 
\newcommand{\with}	{\; {|} \;}

\newcommand{\as}{\; : \;}

\newcommand{\imp}{\rightarrow}
\newcommand{\ifandonlyif}{\leftrightarrow}

\newcommand{\conclude}{\therefore) \; \;}

\newcommand{\isomorph}{\simeq}

\newcommand{ \be }[2]{ #1 \; := \; #2 }

\newcommand{\function}[3]{#1 \; : \; #2 \to #3}

\newcommand{\definedfunction}[5]{
\begin{array}{ r c l }
#1 \;: #2 & \longrightarrow & #3 \\
#4 & \longmapsto & #5
\end{array}
}

\NewDocumentCommand{ \all }{ m o m }{
\IfValueTF {#2}
{ \end{math} \subtab[]{$\forall \; #1 \suchthat #2$}{ #3 }\begin{math} }
{ \end{math} \subtab[]{$\forall \; #1$}{ #3 } \begin{math} }
}

\NewDocumentCommand \ex { m m }{ \exists \; #1 \suchthat #2}

%demonstration ways


\newcommand{\case}[2]{\end{math}\subtab[]{ Case $#1$ }{ #2 }\begin{math}}

\newcommand{\step}[3]{$\subtab[]{ Step $#1$: $#2$ }{ #3 }$}

\newcommand{\rightway}[1]{\end{math}\subtab[]{ $\rightarrow$) }{ #1 }\begin{math}}

\newcommand{\leftway}[1]{\end{math}\subtab[]{ $\leftarrow$) }{ #1 }\begin{math}}

\newcommand{\rightinclusion}[1]{\end{math}\subtab[]{ $\subset$) }{ #1 }\begin{math}}

\newcommand{\leftinclusion}[1]{\end{math}\subtab[]{ $\supset$) }{ #1 }\begin{math}}

\newcommand{\counterreciprocal}[3]{\end{math}\subtab[]{ Counter-reciprocal: $#1 \imp #2$ }{ #3 }\begin{math}}

\newcommand{\similarly}[1]{ $Similarly: $ #1 }

%-------------------------------------------------------


%----------------- Sets --------------------------------

\newcommand{\indexes}[2]{[#1,#2]_\N}
\NewDocumentCommand{\set}{ m o }
{
	\IfValueTF {#2}
	{
		\{#1 \with #2 \}
	}{
		\{ #1 \}
	}
}

\NewDocumentCommand{\family}{ m m o o }
{
	\IfValueTF {#3}
	{
		\IfValueTF {#4}
		{
			\{ #1 \}_{ #2 = #3 }^{ #4 }
		}{
			\{ #1 \}_{ #2 \geq #3 } 
		}
	}{
		\{ #1 \}_{ #2 \in \uppercase{ #2 } }
	}
}

\NewDocumentCommand{\vect}{ m m o o }
{
	\IfValueTF {#3}
	{
		\IfValueTF {#4}
		{
			( #1 )_{ #2 = #3 }^{ #4 }
		}{
			( #1 )_{ #2 \geq #3 } 
		}
	}{
		( #1 )_{ #2 \in \uppercase{ #2 } }
	}
}



%--------------------------------------------------------


%--------------- Big Operators --------------------------

\NewDocumentCommand{\intersection}{ m m o o }
{
	\IfValueTF {#3}
	{ 
		\IfValueTF {#4}
		{
			\displaystyle\bigcap_{ #2 = #3 }^{ #4 } \; #1
		}{
			\displaystyle\bigcap_{ #2 \geq #3 } \; #1
		} 
	}{
		\displaystyle\bigcap_{ #2 \in \uppercase{ #2 } }  \; #1
	}
}

\NewDocumentCommand{\union}{ m m o o }
{
	\IfValueTF {#3}
	{ 
		\IfValueTF {#4}
		{
			\displaystyle\bigcup_{ #2 = #3 }^{ #4 } \; #1
		}{
			\displaystyle\bigcup_{ #2 \geq #3 } \; #1
		} 
	}{
		\displaystyle\bigcup_{ #2 \in \uppercase{ #2 } } \; #1
	}
}
\NewDocumentCommand{\disjunctunion}{ m m o o }
{
	\IfValueTF {#3}
	{ 
		\IfValueTF {#4}
		{
			\displaystyle\bigcupdot_{ #2 = #3 }^{ #4 } \; #1
		}{
			\displaystyle\bigcupdot_{ #2 \geq #3 } \; #1
		} 
	}{
		\displaystyle\bigcupdot_{ #2 \in \uppercase{ #2 } } \; #1
	}
}

\NewDocumentCommand{\sumatory}{ m m o o }
{
	\IfValueTF {#3}
	{ 
		\IfValueTF {#4}
		{
			\displaystyle\sum_{ #2 = #3 }^{ #4 } \; #1
		}{
			\displaystyle\sum_{ #2 \geq #3 } \; #1
		} 
	}{
		\displaystyle\sum_{ #2 \in \uppercase{ #2 } } \; #1
	}
}

\NewDocumentCommand{\productory}{ m m o o }
{
	\IfValueTF {#3}
	{ 
		\IfValueTF {#4}
		{
			\displaystyle\prod_{ #2 = #3 }^{ #4 } \; #1
		}{
			\displaystyle\prod_{ #2 \geq #3 } \; #1
		} 
	}{
		\displaystyle\prod_{ #2 \in \uppercase{ #2 } } \; #1
	}
}

\newcommand{ \unionoverset }[3]{ \displaystyle\bigcup_{ #2 \in #3 } #1 }
\newcommand{ \intersectionoverset }[3]{ \displaystyle\bigcap_{ #2 \in #3 } #1 }
\newcommand{ \disjunctunionoverset }[3]{ \displaystyle\bigcupdot_{ #2 \in #3 } #1 }
\newcommand{ \sumatoryoverset }[3]{ \displaystyle\sum_{ #2 \in #3 } #1 }
\newcommand{ \productoryoverset }[3]{ \displaystyle\prod_{ #2 \in #3 } #1 }
 % xypic
 % substack para acumular cosas debajo de intersection etc
%--------------------------------------------------------

%\end{}

%------------------ Document specific -------------------

\newcommand{ \K }{ \mathbb{K} }
\newcommand{ \succesion }[2]{ ( #1 )_{ #2 \in \N } }
\NewDocumentCommand{ \limit }{ m m o }
{
	\IfValueTF {#3}
	{
		\displaystyle\lim_{ #2 \to #3 } \; #1
	}{
		\displaystyle\lim_{ #2 } \; #1 
	}
}
\NewDocumentCommand{ \superiorlimit }{ m m o }
{
	\IfValueTF {#3}
	{
		\displaystyle\overline{\lim_{ #2 \to #3 }} \; #1
	}{
		\displaystyle\overline{\lim_{ #2 }} \; #1 
	}
}
\NewDocumentCommand{ \inferiorlimit }{ m m o }
{
	\IfValueTF {#3}
	{
		\displaystyle\underline{\lim_{ #2 \to #3 }} \; #1
	}{
		\displaystyle\underline{\lim_{ #2 }} \; #1 
	}
}
\newcommand{ \Cc }{ \mathcal{C} }
\newcommand{ \open }[1]{ \mathring{ #1 }}
\newcommand{ \closed }[1]{ \overline{ #1 }}
\newcommand{ \disjoint }[2]{ #1 \cap #2 \neq \emptyset }

\NewDocumentCommand{ \convergesto }{ O{n} }{ \overset{ #1 }{ \longrightarrow } }
\NewDocumentCommand{ \convergesuniformlyto }{ O{n} }{ \overset{ #1 }{ \rightrightarrows } }

\newcommand{ \functionspace }[2]{ \mathcal{ F }( #1, #2 ) }

\NewDocumentCommand{ \integral }{ m m m O{} }{ \int_{ #3 }^{ #4 } #1 #2 }
\newcommand{ \riemann }[1]{ \mathcal{ R }( #1 ) }



% algebra 

\newcommand{ \order }[1]{ o( #1 ) }
\newcommand{ \F }{ \mathbb{ F } }
\newcommand{ \normal }{ \triangleleft }
\newcommand{ \substructure }{ \; < \; }
\newcommand{ \extends }{ \; | \; }

% arithmetica

%\newcommand{ \divides }{ \; | \; }
\newcommand{\congruent}[1]{\overset{#1}{\equiv}}
% Probability

\newcommand{\combinatory}[2]{\binom{#1}{#2}}
\endinput